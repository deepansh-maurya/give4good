import{r as i,N as h,s as y,j as e,J as j,T as f,L as c}from"./index-Bm7inwCK.js";const N=()=>{const n=i.useRef(),{id:m,setId:b}=h(),g=y();let d=["select category","Animal","Children","Elderly","Faith","Specially Abled","Hunger","Education","Woman","Transgender","Medical","Disaster Relief","Enviroment","Mental Health","LGBTQ+ Rights","Other"];i.useState("");const[a,l]=i.useState({title:"",description:"",story:"",tags:[],goal:"",deadline:"",city:"",category:d[0],image:"",video:""});console.log(a);const t=s=>{const{name:r,value:o}=s.target;l({...a,[r]:o})},u=async s=>{s.preventDefault();const r=new FormData;Object.entries(a).forEach(([x,p])=>{r.append(x,p)}),console.log(typeof r);const o=await f(r,m);console.log(o),o.success?(c.success(`${o.message}`),b(""),setTimeout(()=>{console.log("SDfs"),g("/")},2e3)):c.error(`${o.message}`),setTimeout(()=>{l({title:"",description:"",story:"",tags:"",goal:"",deadline:"",image:"",video:"",category:d[0]})},2e3)};return console.log(a),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" mx-auto p-6 w-2/4 mt-48  shadow-sm shadow-black rounded-md shadow-md ",children:e.jsxs("form",{onSubmit:u,className:"border-white rounded-lg",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block font-semibold mb-1",children:"Title"}),e.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"description",className:"block font-semibold mb-1",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"story",className:"block font-semibold mb-1",children:"Story"}),e.jsx("textarea",{id:"story",name:"story",value:a.story,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"tags",className:"block flex font-semibold mb-1",children:["Tags",e.jsx("div",{onClick:()=>l({...a,tags:[]}),className:" cursor-pointer font-extrabold",children:"(-)"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"w-full border flex  justify-between border-gray-300 rounded px-3 py-2",children:[e.jsx("input",{ref:n,type:"text",id:"tags",name:"tags",placeholder:"Enter a Tag",className:" pl-1 outline-none"}),e.jsx("div",{onClick:()=>{let s=a.tags;s.push(n.current.value),l({...a,tags:s}),n.current.value=""},className:" cursor-pointer  text-lg",children:"+"})]}),e.jsx("div",{className:"flex mt-3 flex-wrap",children:a.tags.map((s,r)=>e.jsx("div",{className:"bg-slate-100 mr-2 m-2 border-2 border-black rounded-3xl p-1",children:s},r))})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"city",className:"block font-semibold mb-1",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",value:a.city,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block font-semibold mb-1",children:"Category"}),e.jsx("select",{name:"category",id:"category",onChange:s=>l({...a,category:s.target.value}),value:a.category,className:"w-full border border-gray-300 rounded px-3 py-2",children:d.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"goal",className:"block font-semibold mb-1",children:"Goal"}),e.jsx("input",{type:"text",id:"goal",name:"goal",value:a.goal,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"deadline",className:"block font-semibold mb-1",children:"Deadline"}),e.jsx("input",{type:"date",id:"deadline",name:"deadline",value:a.deadline,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"image",className:"block font-semibold mb-1",children:"Image"}),e.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:s=>l({...a,image:s.target.files[0]}),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"video",className:"block font-semibold mb-1",children:"Video"}),e.jsx("input",{type:"file",id:"video",name:"video",accept:"image/*",onChange:s=>l({...a,video:s.target.files[0]}),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsx("button",{type:"submit",className:"w-full bg-black text-white rounded py-2 hover:bg-gray-800",children:"Submit"})]})}),e.jsx(j,{})]})};export{N as default};
